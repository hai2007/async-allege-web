/*!
 * Async Allege Web - 一个为前端设计的可以编辑异步断言的测试框架。
 * git+https://github.com/hai2007/async-allege-web.git
 *
 * author 你好2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 0.1.0
 *
 * Copyright (c) 2022 hai2007 走一步，再走一步。
 * Released under the MIT license
 *
 * Date:Tue Feb 22 2022 17:16:58 GMT+0800 (GMT+08:00)
 */
(function(){"use strict";function t(e){"@babel/helpers - typeof";return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};var c={stopPropagation:function e(t){t=t||window.event;if(t.stopPropagation){t.stopPropagation()}else{t.cancelBubble=true}},preventDefault:function e(t){t=t||window.event;if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}},isNode:function e(t){return t&&(t.nodeType===1||t.nodeType===9||t.nodeType===11)},bind:function e(t,n,r){if(t.constructor===Array||t.constructor===NodeList||t.constructor===HTMLCollection){for(var o=0;o<t.length;o++){this.bind(t[o],n,r)}return}if(window.attachEvent)t.attachEvent("on"+n,r);else t.addEventListener(n,r,false)},unbind:function e(t,n,r){if(t.constructor===Array||t.constructor===NodeList||t.constructor===HTMLCollection){for(var o=0;o<t.length;o++){this.unbind(t[o],n,r)}return}if(window.detachEvent)t.detachEvent("on"+n,r);else t.removeEventListener(n,r,false)},find:function e(t,n,r){if(!this.isNode(t))return[];var o=t.getElementsByTagName(r||"*");var i=[];for(var l=0;l<o.length;l++){if(this.isNode(o[l])&&(typeof n!="function"||n(o[l])))i.push(o[l])}return i},children:function e(t,n){var r=t.childNodes;var o=[];for(var i=0;i<r.length;i++){if(this.isNode(r[i])&&(typeof n!="function"||n(r[i])))o.push(r[i])}return o},hasClass:function e(t,n,r){if(n.constructor!==Array)n=[n];var o=" "+(t.getAttribute("class")||"")+" ";for(var i=0;i<n.length;i++){if(o.indexOf(" "+n[i]+" ")>=0){if(r)return true}else{if(!r)return false}}return true},removeClass:function e(t,n){var r=" "+(t.getAttribute("class")||"")+" ";var o=r.replace(" "+n.trim()+" "," ");t.setAttribute("class",o.trim())},addClass:function e(t,n){if(this.hasClass(t,n))return;var r=t.getAttribute("class")||"";t.setAttribute("class",r+" "+n)},toNode:function e(t,n){var r;if(n)r=document.createElementNS(a.svg,"svg");else{var o="div";if(/^<tr[> ]/.test(t)){o="tbody"}else if(/^<th[> ]/.test(t)||/^<td[> ]/.test(t)){o="tr"}else if(/^<thead[> ]/.test(t)||/^<tbody[> ]/.test(t)){o="table"}r=document.createElement(o)}r.innerHTML=t;var i=r.childNodes;for(var l=0;l<i.length;l++){if(this.isNode(i[l]))return i[l]}},trigger:function e(t,n){if(document.createEventObject){t.fireEvent("on"+n,document.createEventObject())}else{var r=document.createEvent("HTMLEvents");r.initEvent(n,true,false);t.dispatchEvent(r)}},getStyle:function e(t,n){var r=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle;return typeof n==="string"?r.getPropertyValue(n):r},offsetPosition:function e(t){var n=0;var r=0;r=t.offsetTop;n=t.offsetLeft;t=t.offsetParent;while(t){r+=t.offsetTop;n+=t.offsetLeft;t=t.offsetParent}return{left:n,top:r}},mousePosition:function e(t,n){var r=t.getBoundingClientRect();if(!n||!n.clientX)throw new Error("Event is necessary!");return{x:n.clientX-r.left,y:n.clientY-r.top}},remove:function e(t){t.parentNode.removeChild(t)},setStyles:function e(t,n){for(var r in n){t.style[r]=n[r]}},size:function e(t,n){var r,o;if(n=="content"){o=t.clientWidth-(this.getStyle(t,"padding-left")+"").replace("px","")-(this.getStyle(t,"padding-right")+"").replace("px","");r=t.clientHeight-(this.getStyle(t,"padding-top")+"").replace("px","")-(this.getStyle(t,"padding-bottom")+"").replace("px","")}else if(n=="padding"){o=t.clientWidth;r=t.clientHeight}else if(n=="border"){o=t.offsetWidth;r=t.offsetHeight}else if(n=="scroll"){o=t.scrollWidth;r=t.scrollHeight}else{o=t.offsetWidth;r=t.offsetHeight}return{width:o,height:r}},append:function e(t,n){var r=this.isNode(n)?n:this.toNode(n);t.appendChild(r);return r},prepend:function e(t,n){var r=this.isNode(n)?n:this.toNode(n);t.insertBefore(r,t.childNodes[0]);return r},after:function e(t,n){var r=this.isNode(n)?n:this.toNode(n);t.parentNode.insertBefore(r,t.nextSibling);return r},before:function e(t,n){var r=this.isNode(n)?n:this.toNode(n);t.parentNode.insertBefore(r,t);return r}};function o(s){c.bind(s,"mousedown",function e(t){s.setCapture&&s.setCapture();var n=s.parentNode;var r=t.clientX;var o=t.clientY;var i=c.getStyle(n,"left").replace("px","");var l=c.getStyle(n,"top").replace("px","");function a(e){n.style.left=i- -e.clientX-r+"px";n.style.top=l- -e.clientY-o+"px"}c.bind(document,"mousemove",a);c.bind(document,"mouseup",function(){c.unbind(document,"mousemove",a);n.releaseCapture&&n.releaseCapture();return false})})}var n=function e(t){t.setAttribute("async-allege-web","");var n=document.createElement("h2");n.innerText="[测试] Async Allege Web";t.appendChild(n);o(n);var r=document.createElement("div");t.appendChild(r);return r};var i=function e(t,n){var r=document.createElement("fieldset");var o=document.createElement("legend");var i=document.createElement("ul");o.innerText=n;t.appendChild(r);r.appendChild(o);r.appendChild(i);return i};var l=function e(t,n,r){var o=document.createElement("li");o.innerText=r+"："+n;t.appendChild(o)};function e(e){var t=document.createElement("style");var n=document.head||document.getElementsByTagName("head")[0];t.innerHTML=e;t.setAttribute("type","text/css");n.appendChild(t)}e("\n [async-allege-web]{\n\nposition: fixed;\n\nleft: 50px;\n\ntop: 50px;\n\nbackground-color: #8bc34a;\n\nborder: 4px solid #8bc34a;\n\nbox-shadow: 0 0 14px 6px white;\n\n}\n/* 去掉前置索引 */\n [async-allege-web] li{\n\nlist-style-type: none;\n\n}\n/* 去掉不喜欢的间距 */\n [async-allege-web] ul, [async-allege-web] li, [async-allege-web] h2{\n\n-webkit-margin-before: 0;\n\n-webkit-margin-after: 0;\n\n-webkit-padding-start: 0;\n/* 去掉不喜欢的间距，针对火狐浏览器等 */\nmargin-block-end: 0;\n\nmargin-block-start: 0;\n\npadding-inline-start: 0;\n/* 修改IE和其它浏览器不一致问题 */\npadding: 0;\n\nmargin: 0;\n\n}\n\n [async-allege-web]>h2{\n\nuser-select: none;\n\nfont-size: 12px;\n\npadding: 10px;\n\ncursor: move;\n\n}\n\n [async-allege-web]>div{\n\nbackground-color: white;\n\nheight: 300px;\n\nwidth: 240px;\n\noverflow: auto;\n\n}\n\n [async-allege-web]>div>fieldset>legend{\n\nfont-weight: 800;\n\n}\n\n [async-allege-web]>div>fieldset>ul>li{\n\nfont-size: 12px;\n\n}\n");var r=function e(t){var r=n(t);return{test:function e(t,n){var o=i(r,t);n({equal:function e(t,n,r){l(o,t==n,r)},notEqual:function e(t,n,r){l(o,t!=n,r)},deepEqual:function e(t,n,r){l(o,t===n,r)},notDeepEqual:function e(t,n,r){l(o,t!==n,r)}})}}};if((typeof module==="undefined"?"undefined":t(module))==="object"&&t(module.exports)==="object"){module.exports=r}else{window.AsyncAllegeWeb=r}})();