/*!
 * Async Allege Web - 一个为前端设计的可以编辑异步断言的测试框架。
 * git+https://github.com/hai2007/async-allege-web.git
 *
 * author 你好2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 0.3.0
 *
 * Copyright (c) 2022 hai2007 走一步，再走一步。
 * Released under the MIT license
 *
 * Date:Thu Feb 24 2022 17:09:38 GMT+0800 (GMT+08:00)
 */
(function(){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};var s={stopPropagation:function e(t){t=t||window.event;if(t.stopPropagation){t.stopPropagation()}else{t.cancelBubble=true}},preventDefault:function e(t){t=t||window.event;if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}},isNode:function e(t){return t&&(t.nodeType===1||t.nodeType===9||t.nodeType===11)},bind:function e(t,n,r){if(t.constructor===Array||t.constructor===NodeList||t.constructor===HTMLCollection){for(var i=0;i<t.length;i++){this.bind(t[i],n,r)}return}if(window.attachEvent)t.attachEvent("on"+n,r);else t.addEventListener(n,r,false)},unbind:function e(t,n,r){if(t.constructor===Array||t.constructor===NodeList||t.constructor===HTMLCollection){for(var i=0;i<t.length;i++){this.unbind(t[i],n,r)}return}if(window.detachEvent)t.detachEvent("on"+n,r);else t.removeEventListener(n,r,false)},find:function e(t,n,r){if(!this.isNode(t))return[];var i=t.getElementsByTagName(r||"*");var o=[];for(var l=0;l<i.length;l++){if(this.isNode(i[l])&&(typeof n!="function"||n(i[l])))o.push(i[l])}return o},children:function e(t,n){var r=t.childNodes;var i=[];for(var o=0;o<r.length;o++){if(this.isNode(r[o])&&(typeof n!="function"||n(r[o])))i.push(r[o])}return i},hasClass:function e(t,n,r){if(n.constructor!==Array)n=[n];var i=" "+(t.getAttribute("class")||"")+" ";for(var o=0;o<n.length;o++){if(i.indexOf(" "+n[o]+" ")>=0){if(r)return true}else{if(!r)return false}}return true},removeClass:function e(t,n){var r=" "+(t.getAttribute("class")||"")+" ";var i=r.replace(" "+n.trim()+" "," ");t.setAttribute("class",i.trim())},addClass:function e(t,n){if(this.hasClass(t,n))return;var r=t.getAttribute("class")||"";t.setAttribute("class",r+" "+n)},toNode:function e(t,n){var r;if(n)r=document.createElementNS(a.svg,"svg");else{var i="div";if(/^<tr[> ]/.test(t)){i="tbody"}else if(/^<th[> ]/.test(t)||/^<td[> ]/.test(t)){i="tr"}else if(/^<thead[> ]/.test(t)||/^<tbody[> ]/.test(t)){i="table"}r=document.createElement(i)}r.innerHTML=t;var o=r.childNodes;for(var l=0;l<o.length;l++){if(this.isNode(o[l]))return o[l]}},trigger:function e(t,n){if(document.createEventObject){t.fireEvent("on"+n,document.createEventObject())}else{var r=document.createEvent("HTMLEvents");r.initEvent(n,true,false);t.dispatchEvent(r)}},getStyle:function e(t,n){var r=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle;return typeof n==="string"?r.getPropertyValue(n):r},offsetPosition:function e(t){var n=0;var r=0;r=t.offsetTop;n=t.offsetLeft;t=t.offsetParent;while(t){r+=t.offsetTop;n+=t.offsetLeft;t=t.offsetParent}return{left:n,top:r}},mousePosition:function e(t,n){var r=t.getBoundingClientRect();if(!n||!n.clientX)throw new Error("Event is necessary!");return{x:n.clientX-r.left,y:n.clientY-r.top}},remove:function e(t){t.parentNode.removeChild(t)},setStyles:function e(t,n){for(var r in n){t.style[r]=n[r]}},size:function e(t,n){var r,i;if(n=="content"){i=t.clientWidth-(this.getStyle(t,"padding-left")+"").replace("px","")-(this.getStyle(t,"padding-right")+"").replace("px","");r=t.clientHeight-(this.getStyle(t,"padding-top")+"").replace("px","")-(this.getStyle(t,"padding-bottom")+"").replace("px","")}else if(n=="padding"){i=t.clientWidth;r=t.clientHeight}else if(n=="border"){i=t.offsetWidth;r=t.offsetHeight}else if(n=="scroll"){i=t.scrollWidth;r=t.scrollHeight}else{i=t.offsetWidth;r=t.offsetHeight}return{width:i,height:r}},append:function e(t,n){var r=this.isNode(n)?n:this.toNode(n);t.appendChild(r);return r},prepend:function e(t,n){var r=this.isNode(n)?n:this.toNode(n);t.insertBefore(r,t.childNodes[0]);return r},after:function e(t,n){var r=this.isNode(n)?n:this.toNode(n);t.parentNode.insertBefore(r,t.nextSibling);return r},before:function e(t,n){var r=this.isNode(n)?n:this.toNode(n);t.parentNode.insertBefore(r,t);return r}};function o(a){s.bind(a,"mousedown",function(e){a.setCapture&&a.setCapture();var t=a.parentNode;var n=e.clientX;var r=e.clientY;var i=s.getStyle(t,"left").replace("px","");var o=s.getStyle(t,"top").replace("px","");function l(e){t.style.left=i- -e.clientX-n+"px";t.style.top=o- -e.clientY-r+"px"}s.bind(document,"mousemove",l);s.bind(document,"mouseup",function(){s.unbind(document,"mousemove",l);t.releaseCapture&&t.releaseCapture();return false})})}var i=function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"[测试] Async Allege Web";t.setAttribute("async-allege-web","");var r=document.createElement("h2");r.innerText=n;t.appendChild(r);o(r);var i=document.createElement("div");t.appendChild(i);return i};var c=function e(t,n){var r=document.createElement("fieldset");var i=document.createElement("legend");var o=document.createElement("ul");i.innerText=n;t.appendChild(r);r.appendChild(i);r.appendChild(o);return o};var u=function e(t,n,r,i){var o=document.createElement("li");o.innerText=i+"："+r;if(!r){o.setAttribute("class","error");t.setAttribute("class","error")}n.appendChild(o)};function t(e){var t=document.createElement("style");var n=document.head||document.getElementsByTagName("head")[0];t.innerHTML=e;t.setAttribute("type","text/css");n.appendChild(t)}t("\n [async-allege-web]{\n\nposition: fixed;\n\nbackground-color: #8bc34a;\n\nborder: 4px solid #8bc34a;\n\nbox-shadow: 0 0 10px 3px white;\n\nfont-family: cursive;\n\nz-index: 998;\n\n}\n\n [async-allege-web][active='yes']{\n\nz-index: 999;\n\n}\n\n [async-allege-web].error{\n\nbackground-color: #e40b0b;\n\nborder: 4px solid #e40b0b;\n\n}\n/* 去掉前置索引 */\n [async-allege-web] li{\n\nlist-style-type: none;\n\n}\n/* 去掉不喜欢的间距 */\n [async-allege-web] ul, [async-allege-web] li, [async-allege-web] h2{\n\n-webkit-margin-before: 0;\n\n-webkit-margin-after: 0;\n\n-webkit-padding-start: 0;\n/* 去掉不喜欢的间距，针对火狐浏览器等 */\nmargin-block-end: 0;\n\nmargin-block-start: 0;\n\npadding-inline-start: 0;\n/* 修改IE和其它浏览器不一致问题 */\npadding: 0;\n\nmargin: 0;\n\n}\n\n [async-allege-web]>h2{\n\nuser-select: none;\n\nfont-size: 12px;\n\npadding: 10px;\n\ncursor: move;\n\n}\n\n [async-allege-web]>div{\n\nbackground-color: white;\n\nheight: 300px;\n\nwidth: 240px;\n\noverflow: auto;\n\n}\n\n [async-allege-web]>div>fieldset{\n\nmargin-top: 10px;\n\n}\n\n [async-allege-web]>div>fieldset>legend{\n\nfont-weight: 800;\n\nfont-size: 14px;\n\n}\n\n [async-allege-web]>div>fieldset>ul>li{\n\nfont-size: 12px;\n\nlist-style-type: disclosure-closed;\n\nmargin: 5px 0;\n\nmargin-left: 10px;\n\ncolor: #8bc34a;\n\n}\n\n [async-allege-web]>div>fieldset>ul>li.error{\n\ncolor: red;\n\n}\n");function r(e){var t=n(e);return e!=null&&(t==="object"||t==="function")}var l=r;var f=function e(t,n){if(l(t)&&l(n)){for(var r in t){if(!e(t[r],n[r])){return false}}for(var i in n){if(!e(t[i],n[i])){return false}}}else{return t==n}return true};function d(e,t){return f(e,t)}var p=35,v=35;var e=function e(r,t){var o=document.createElement("div");r.appendChild(o);o.style.left=(p+=15)+"px";o.style.top=(v+=15)+"px";s.bind(o,"mousedown",function(e){var t=s.children(r);for(var n=0;n<t.length;n++){t[n].setAttribute("active","no")}o.setAttribute("active","yes")});var l=i(o,t);return{test:function e(t,n){var i=c(l,t);n({do:function e(t,n){u(o,i,t(),n)},equal:function e(t,n,r){u(o,i,t==n,r)},notEqual:function e(t,n,r){u(o,i,t!=n,r)},strictEqual:function e(t,n,r){u(o,i,t===n,r)},notStrictEqual:function e(t,n,r){u(o,i,t!==n,r)},deepEqual:function e(t,n,r){u(o,i,d(t,n),r)},notDeepEqual:function e(t,n,r){u(o,i,!d(t,n),r)}})}}};if((typeof module==="undefined"?"undefined":n(module))==="object"&&n(module.exports)==="object"){module.exports=e}else{window.AsyncAllegeWeb=e}})();